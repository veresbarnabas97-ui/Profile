<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veres Barnab√°s | Web3 Hub</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
    <style>
        :root {
            --primary: #00d4ff; /* BNB Blue */
            --solana: #14f195;  /* Solana Green */
            --secondary: #9d00ff;
            --bg: #050505;
            --card-bg: #111111;
            --text: #e0e0e0;
        }
        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        /* H√°tt√©r anim√°ci√≥ */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(0, 212, 255, 0.15) 0%, transparent 10%),
                radial-gradient(circle at 80% 70%, rgba(20, 241, 149, 0.15) 0%, transparent 10%);
            z-index: -1;
        }

        /* Fejl√©c */
        header {
            padding: 20px 40px;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .logo {
            font-size: 1.5em;
            font-weight: bold;
            background: linear-gradient(90deg, var(--primary), var(--solana));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 2px;
        }
        .btn-connect {
            background: linear-gradient(90deg, var(--primary), var(--solana));
            color: #000;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }
        .btn-connect:hover { transform: scale(1.05); filter: brightness(1.2); }

        /* F≈ë tartalom */
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        
        .hero { text-align: center; padding: 60px 0; }
        .hero h1 { font-size: 3.5em; margin-bottom: 10px; line-height: 1.1; }
        .hero h3 { color: #fff; opacity: 0.8; font-weight: 300; letter-spacing: 1px; }
        
        .status-badge {
            display: inline-flex;
            align-items: center;
            background: #222;
            border: 1px solid #444;
            padding: 8px 16px;
            border-radius: 50px;
            font-family: monospace;
            font-size: 1em;
            margin-top: 20px;
            color: #888;
        }
        .dot { width: 10px; height: 10px; border-radius: 50%; background: #555; margin-right: 10px; }
        .dot.active-bnb { background: var(--primary); box-shadow: 0 0 10px var(--primary); }
        .dot.active-sol { background: var(--solana); box-shadow: 0 0 10px var(--solana); }

        /* K√°rty√°k */
        .card {
            background: var(--card-bg);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
        }
        .card:hover { transform: translateY(-5px); border-color: #555; }
        .card h2 { margin-top: 0; color: #fff; }

        .btn-link {
            display: inline-block;
            margin-top: 15px;
            text-decoration: none;
            color: var(--primary);
            font-weight: bold;
            border: 1px solid var(--primary);
            padding: 10px 20px;
            border-radius: 5px;
            transition: 0.3s;
        }
        .btn-link:hover { background: var(--primary); color: #000; }

        /* Rak√©ta Szekci√≥ */
        .rocket-section {
            text-align: center;
            margin: 60px 0;
            padding: 50px;
            border: 2px dashed #333;
            border-radius: 20px;
            background: linear-gradient(180deg, rgba(20, 241, 149, 0.05) 0%, rgba(0, 212, 255, 0.05) 100%);
        }
        .rocket-btn {
            font-size: 5em;
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: block;
            margin: 20px auto;
        }
        .rocket-btn:hover { transform: scale(1.2) rotate(-10deg); filter: drop-shadow(0 0 20px #fff); }
        .rocket-btn:disabled { opacity: 0.3; cursor: not-allowed; filter: grayscale(1); }

        /* MODAL (T√°rcav√°laszt√≥) */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none; justify-content: center; align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: #1a1a1a;
            padding: 30px;
            border-radius: 20px;
            width: 300px;
            text-align: center;
            border: 1px solid #444;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }
        .wallet-option {
            display: flex; align-items: center; justify-content: center;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #444;
            border-radius: 10px;
            background: #222;
            color: #fff;
            cursor: pointer;
            transition: 0.2s;
            font-weight: bold;
        }
        .wallet-option:hover { background: #333; border-color: #fff; }
        .wallet-option.bnb:hover { border-color: var(--primary); box-shadow: 0 0 15px rgba(0,212,255,0.2); }
        .wallet-option.sol:hover { border-color: var(--solana); box-shadow: 0 0 15px rgba(20,241,149,0.2); }

    </style>
</head>
<body>

    <div class="modal-overlay" id="walletModal">
        <div class="modal-content">
            <h3 style="margin-top:0;">V√°lassz H√°l√≥zatot</h3>
            <button class="wallet-option bnb" onclick="selectWallet('BNB')">
                üîµ BNB Chain (Trust/MetaMask)
            </button>
            <button class="wallet-option sol" onclick="selectWallet('SOLANA')">
                üü¢ Solana (Phantom)
            </button>
            <button onclick="closeModal()" style="background:none; border:none; color:#666; margin-top:10px; cursor:pointer;">M√©gse</button>
        </div>
    </div>

    <header>
        <div class="logo">VERES.BNB</div>
        <button id="connectBtn" class="btn-connect" onclick="openModal()">Connect Wallet</button>
    </header>

    <div class="container">
        <div class="hero">
            <h1>Veres Barnab√°s</h1>
            <h3>Web3 Visionary & SkyAI Founder</h3>
            <div class="status-badge">
                <div class="dot" id="statusDot"></div>
                <span id="statusText">Not Connected</span>
            </div>
        </div>

        <div class="card" style="border-left: 5px solid var(--secondary);">
            <h2 style="color: var(--secondary);">ü§ñ SkyAI Project</h2>
            <p>A mesters√©ges intelligencia √©s a blokkl√°nc technol√≥gia f√∫zi√≥ja.</p>
            <a href="https://veresbarnabas97-ui.github.io/SkyAIWeb3" target="_blank" class="btn-link">
                Megnyit√°s ‚Üó
            </a>
        </div>

        <div class="rocket-section">
            <h2>üöÄ SkyAI Launchpad</h2>
            <p>T√°mogasd a fejleszt√©st <strong>5 USD</strong> √©rt√©kkel!</p>
            <p style="font-size: 0.8em; color: #888;">(Automatikusan BNB-t vagy SOL-t k√ºld a csatlakoztatott h√°l√≥zatt√≥l f√ºgg≈ëen)</p>
            
            <button class="rocket-btn" id="rocketBtn" onclick="launchRocket()" disabled>üöÄ</button>
            <div id="txStatus" style="margin-top:20px; font-weight:bold; color:var(--text)">Csatlakoztasd a t√°rc√°d az ind√≠t√°shoz!</div>
        </div>
    </div>

    <script>
        // *** P√âNZT√ÅRCA BE√ÅLL√çT√ÅSOK ***
        // A TE BNB C√çMED (Erre j√∂n a BNB)
        const MY_BNB_ADDRESS = "0xbb64336e367d42977dc8bcf0364f80801bc5eb5b";
        
        // A TE SOLANA C√çMED (Erre j√∂n a SOL) - BEILLESZTVE
        const MY_SOL_ADDRESS = "4iubzdpP14Mo32iRseD7nZEhP1RVLWjjwbsh228uBk3z";
        
        // √Ållapotv√°ltoz√≥k
        let currentChain = null; // 'BNB' vagy 'SOLANA'
        let currentAccount = null;
        let provider = null;     // Ethers provider (BNB-hez)
        let signer = null;       // Ethers signer (BNB-hez)

        // UI elemek
        const modal = document.getElementById('walletModal');
        const statusText = document.getElementById('statusText');
        const statusDot = document.getElementById('statusDot');
        const connectBtn = document.getElementById('connectBtn');
        const rocketBtn = document.getElementById('rocketBtn');
        const txStatus = document.getElementById('txStatus');

        // Modal kezel√©s
        function openModal() { modal.style.display = 'flex'; }
        function closeModal() { modal.style.display = 'none'; }

        // --- T√ÅRCA KIV√ÅLASZT√ÅS LOGIKA ---
        async function selectWallet(chain) {
            closeModal();
            txStatus.innerText = "Csatlakoz√°s folyamatban...";

            try {
                if (chain === 'BNB') {
                    await connectBNB();
                } else if (chain === 'SOLANA') {
                    await connectSolana();
                }
            } catch (error) {
                console.error(error);
                alert("Hiba a csatlakoz√°skor: " + (error.message || error));
                txStatus.innerText = "Sikertelen csatlakoz√°s.";
            }
        }

        // --- 1. BNB / TRUSTWALLET / METAMASK LOGIKA ---
        async function connectBNB() {
            if (typeof window.ethereum === 'undefined') {
                alert("Nem tal√°ltam TrustWalletet vagy MetaMaskot!");
                return;
            }

            // Csatlakoz√°s k√©r√©se
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            provider = new ethers.providers.Web3Provider(window.ethereum);
            signer = provider.getSigner();
            const address = await signer.getAddress();

            // H√°l√≥zat ellen≈ërz√©se (BSC Mainnet: 56)
            const network = await provider.getNetwork();
            if (network.chainId !== 56) {
                try {
                    await window.ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: '0x38' }], // 56 hexadecim√°lisan
                    });
                } catch (e) {
                    console.log("Nem siker√ºlt h√°l√≥zatot v√°ltani vagy elutas√≠tva.");
                }
            }

            // Siker
            currentChain = 'BNB';
            currentAccount = address;
            updateUI(address, 'BNB');
        }

        // --- 2. SOLANA / PHANTOM LOGIKA ---
        async function connectSolana() {
            // Ellen≈ërizz√ºk, hogy van-e Solana provider (Phantom)
            const isPhantom = window.solana && window.solana.isPhantom;
            
            if (!isPhantom) {
                alert("Nem tal√°ltam Phantom Walletet! K√©rlek telep√≠tsd.");
                window.open("https://phantom.app/", "_blank");
                return;
            }

            try {
                // Csatlakoz√°s
                const resp = await window.solana.connect();
                const address = resp.publicKey.toString();

                // Siker
                currentChain = 'SOLANA';
                currentAccount = address;
                updateUI(address, 'SOLANA');

            } catch (err) {
                throw new Error("Felhaszn√°l√≥ elutas√≠totta a k√©r√©st.");
            }
        }

        // --- UI FRISS√çT√âS ---
        function updateUI(address, chain) {
            const shortAddr = address.substring(0, 4) + "..." + address.substring(address.length - 4);
            connectBtn.innerText = shortAddr;
            statusText.innerText = `Connected: ${chain}`;
            
            statusDot.className = "dot"; // Reset
            if (chain === 'BNB') {
                statusDot.classList.add('active-bnb');
                connectBtn.style.background = "var(--primary)";
            } else {
                statusDot.classList.add('active-sol');
                connectBtn.style.background = "var(--solana)";
                connectBtn.style.color = "#000";
            }

            rocketBtn.disabled = false;
            rocketBtn.style.filter = "none";
            txStatus.innerText = `K√©sz a kil√∂v√©sre (${chain} H√°l√≥zat)!`;
        }

        // --- RAK√âTA IND√çT√ÅSA (TRANZAKCI√ì) ---
        async function launchRocket() {
            if (!currentChain) return;

            txStatus.innerText = "Tranzakci√≥ el≈ëk√©sz√≠t√©se...";
            
            try {
                if (currentChain === 'BNB') {
                    // --- BNB K√úLD√âS ---
                    // Becsl√©s: 5 USD = kb. 0.0083 BNB (ha 1 BNB ~ 600 USD)
                    const bnbAmount = "0.0083"; 
                    const weiAmount = ethers.utils.parseEther(bnbAmount);

                    const tx = await signer.sendTransaction({
                        to: MY_BNB_ADDRESS,
                        value: weiAmount
                    });

                    txStatus.innerText = "BNB K√ºld√©se folyamatban... ‚è≥";
                    await tx.wait();
                    alert("Sikeres BNB T√°mogat√°s! K√∂sz√∂nj√ºk! üöÄ");

                } else if (currentChain === 'SOLANA') {
                    // --- SOLANA K√úLD√âS ---
                    // Becsl√©s: 5 USD = kb. 0.033 SOL (ha 1 SOL ~ 150 USD)
                    const solAmount = 0.033;
                    const lamports = solAmount * 1000000000; // 1 SOL = 1 milli√°rd Lamport

                    const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl('mainnet-beta'));
                    const transaction = new solanaWeb3.Transaction().add(
                        solanaWeb3.SystemProgram.transfer({
                            fromPubkey: window.solana.publicKey,
                            toPubkey: new solanaWeb3.PublicKey(MY_SOL_ADDRESS),
                            lamports: Math.round(lamports),
                        })
                    );

                    // Blockhash lek√©r√©se
                    const { blockhash } = await connection.getLatestBlockhash();
                    transaction.recentBlockhash = blockhash;
                    transaction.feePayer = window.solana.publicKey;

                    // Al√°√≠r√°s √©s k√ºld√©s a Phantomnak
                    const { signature } = await window.solana.signAndSendTransaction(transaction);
                    
                    txStatus.innerText = "SOL K√ºld√©se folyamatban... ‚è≥";
                    
                    // V√°rakoz√°s a meger≈ës√≠t√©sre
                    await connection.confirmTransaction(signature);
                    alert("Sikeres Solana T√°mogat√°s! K√∂sz√∂nj√ºk! üöÄ");
                }
                
                txStatus.innerText = "SIKERES KIL√ñV√âS! üöÄ";

            } catch (error) {
                console.error(error);
                txStatus.innerText = "Hiba: " + (error.message || "Ismeretlen hiba");
            }
        }
    </script>
</body>
</html>
